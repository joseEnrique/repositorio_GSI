<alfresco-config>
   
   <!-- Repository Library config section -->
   <config evaluator="string-compare" condition="RepositoryLibrary" replace="true">
      <!--
         Whether the link to the Repository Library appears in the header component or not.
      -->
      <visible>true</visible>
   </config>

   <config evaluator="string-compare" condition="Remote">
      <remote>
         <endpoint>
            <id>alfresco-noauth</id>
            <name>Alfresco - unauthenticated access</name>
            <description>Access to Alfresco Repository WebScripts that do not require authentication</description>
            <connector-id>alfresco</connector-id>
            <endpoint-url>http://localhost:80/alfresco/s</endpoint-url>
            <identity>none</identity>
         </endpoint>

         <endpoint>
            <id>alfresco</id>
            <name>Alfresco - user access</name>
            <description>Access to Alfresco Repository WebScripts that require user authentication</description>
            <connector-id>alfresco</connector-id>
            <endpoint-url>http://localhost:80/alfresco/s</endpoint-url>
            <identity>user</identity>
         </endpoint>

         <endpoint>
            <id>alfresco-feed</id>
            <name>Alfresco Feed</name>
            <description>Alfresco Feed - supports basic HTTP authentication via the EndPointProxyServlet</description>
            <connector-id>http</connector-id>
            <endpoint-url>http://localhost:80/alfresco/s</endpoint-url>
            <basic-auth>true</basic-auth>
            <identity>user</identity>
         </endpoint>
         
         <endpoint>
            <id>activiti-admin</id>
            <name>Activiti Admin UI - user access</name>
            <description>Access to Activiti Admin UI, that requires user authentication</description>
            <connector-id>activiti-admin-connector</connector-id>
            <endpoint-url>http://localhost:80/alfresco/activiti-admin</endpoint-url>
            <identity>user</identity>
         </endpoint>
      </remote>
   </config>


<config evaluator="string-compare" condition="DocumentLibrary">

        <aspects>
        <aspect name="asesoria:common" />
        </aspects>
        <types>
		<type  name="cm:content">
                	<subtype name="asesoria:documento_cliente" />
		</type>
		<type  name="cm:content">
                	<subtype name="asesoria:parte_trabajo" />
		</type>
		<type  name="cm:content">
                	<subtype name="asesoria:factura" />
		</type>
		<type  name="cm:content">
                	<subtype name="asesoria:nomina" />
		</type>


        </types>
	<constraints>
		<constraint name="asesoria:listatrimestre" />
		<constraint name="asesoria:regexDNICIF" />
	</constraints>

</config>

<!-- Custom Search Configuration, for asesoria:documento_cliente data type -->
   <config replace="true" evaluator="string-compare" condition="AdvancedSearch">
		<advanced-search>
			<forms>
				<form labelId="search.form.label.cm_content" descriptionId="search.form.desc.cm_content">cm:content</form>
				<form labelId="search.form.label.cm_folder" descriptionId="search.form.desc.cm_folder">cm:folder</form>
				<form labelId="type.asesoria_documento_cliente" descriptionId="search.form.desc.asesoria_documento_cliente">asesoria:documento_cliente</form>
			</forms>
		</advanced-search>
   </config>
   
	<!-- Custom Search FORM Configuration -->
	<!-- asesoria:documento_cliente type (new nodes) -->
	<config evaluator="model-type" condition="asesoria.documento_cliente">
		<forms>
				<!-- Search form -->
				<form id="search">
					<field-visibility>
						<!-- asesoria:project -->
						<show id="cm:name" />
						<show id="cm:title" />
						<show id="cm:description" />
						<show id="mimetype" />
						<show id="cm:modified" />
						<show id="cm:modifier" />						
						<show id="asesoria:DNI" force="true" />
					</field-visibility>
					<appearance>
						<!-- new -->

						<field id="mimetype">
						<control
						template="/org/alfresco/components/form/controls/mimetype.ftl" />
						</field>
						<field id="cm:modifier">
						<control>
						<control-param name="forceEditable">true</control-param>
						</control>
						</field>
						<field id="cm:modified">
						<control
						template="/org/alfresco/components/form/controls/daterange.ftl" />
						</field>
						
						<!-- gsi:project -->
						<field id="asesoria:DNI" label-id="prop.asesoria_DNI">
						<control
						template="/org/alfresco/components/form/controls/textfield.ftl" />
						</field>
						
						<!-- end new -->
					</appearance>
				</form>
		</forms>
	
	</config>



</alfresco-config>

